# ReturnSelfMacro

[![Swift](https://img.shields.io/badge/Swift-6.1+-orange.svg)](https://swift.org)
[![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20iOS%20%7C%20tvOS%20%7C%20watchOS%20%7C%20macCatalyst-lightgrey.svg)](https://swift.org)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

ReturnSelfMacro - —ç—Ç–æ Swift –º–∞–∫—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `Self` –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å fluent API (—Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤) –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å `@discardableResult` –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–º `self`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–≤–∫–ª—é—á–∞—è `mutating` —Ñ—É–Ω–∫—Ü–∏–∏)
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@returnSelf`
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `AndReturnSelf` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Swift 6.1+
- Xcode 15.0+
- macOS 10.15+, iOS 13+, tvOS 13+, watchOS 6+, macCatalyst 13+

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Swift Package Manager

–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –≤–∞—à `Package.swift`:

```swift
dependencies: [
    .package(url: "https://github.com/Romik4/XCUITestsMacro.git", from: "1.0.0")
]
```

–ò–ª–∏ –≤ Xcode:
1. File ‚Üí Add Package Dependencies
2. –í–≤–µ–¥–∏—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```swift
import ReturnSelfMacro

class User {
    var name: String = ""
    var age: Int = 0
    
    @returnSelf
    func setName(_ name: String) {
        self.name = name
    }
    
    @returnSelf
    func setAge(_ age: Int) {
        self.age = age
    }
    
    func printInfo() {
        print("Name: \(name), Age: \(age)")
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ü–µ–ø–æ—á–∫–æ–π –≤—ã–∑–æ–≤–æ–≤
let user = User()
    .setNameAndReturnSelf("John")
    .setAgeAndReturnSelf(25)
    .printInfo()
```

### –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏

```swift
import ReturnSelfMacro

struct Configuration {
    var host: String = "localhost"
    var port: Int = 8080
    var timeout: TimeInterval = 30.0
    
    @returnSelf
    mutating func setHost(_ host: String) {
        self.host = host
    }
    
    @returnSelf
    mutating func setPort(_ port: Int) {
        self.port = port
    }
    
    @returnSelf
    mutating func setTimeout(_ timeout: TimeInterval) {
        self.timeout = timeout
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
var config = Configuration()
    .setHostAndReturnSelf("api.example.com")
    .setPortAndReturnSelf(443)
    .setTimeoutAndReturnSelf(60.0)
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `@returnSelf`, –º–∞–∫—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `AndReturnSelf`:

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:**
```swift
@returnSelf
func incrementCounter() {
    counter += 1
}
```

**–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:**
```swift
@discardableResult
func incrementCounterAndReturnSelf() -> Self {
    counter += 1
    return self
}
```

**–í–∞–∂–Ω–æ**: –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π, –º–∞–∫—Ä–æ—Å —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è fluent API.

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –∏–º–µ—é—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è** (Void)
- –§—É–Ω–∫—Ü–∏–∏ —Å —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ç–∏–ø–æ–º –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- –ú–∞–∫—Ä–æ—Å —Å–æ–∑–¥–∞–µ—Ç **–Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é** —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `AndReturnSelf`, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
- –î–ª—è fluent API –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å –ø–æ–º–æ—â—å—é Swift Package Manager:

```bash
swift test
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:

1. **–§—É–Ω–∫—Ü–∏–∏ –≤ –∫–ª–∞—Å—Å–∞—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
2. **Mutating —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
3. **–§—É–Ω–∫—Ü–∏–∏ —Å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ReturnSelfMacro/
‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ ReturnSelfMacro/           # –ü—É–±–ª–∏—á–Ω—ã–π API –º–∞–∫—Ä–æ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ ReturnSelfMacroMacros/     # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–∫—Ä–æ—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ ReturnSelfMacroClient/     # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ Tests/
‚îÇ   ‚îî‚îÄ‚îÄ ReturnSelfMacroTests/      # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ Package.swift                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **ReturnSelfMacro**: –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–∞–∫—Ä–æ—Å–∞
- **ReturnSelfMacroMacros**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
- **ReturnSelfMacroClient**: –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/Romik4/XCUITestsMacro.git
cd ReturnSelfMacro
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode:
```bash
open Package.swift
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:
```bash
swift test
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–∫—Ä–æ—Å–∞

–ú–∞–∫—Ä–æ—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ `PeerMacro`, –∫–æ—Ç–æ—Ä—ã–π:
1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
2. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `AndReturnSelf`
3. –î–æ–±–∞–≤–ª—è–µ—Ç `@discardableResult` –∞—Ç—Ä–∏–±—É—Ç
4. –î–æ–±–∞–≤–ª—è–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç `self` –≤ –∫–æ–Ω–µ—Ü —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–∞–∫ `Self`
6. –ò—Å–∫–ª—é—á–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç `@returnSelf` –∏–∑ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/Romik4/XCUITestsMacro/issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ—Ç –º–∞–∫—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Swift Syntax –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è Swift –∏ Xcode.
